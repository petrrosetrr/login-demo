(this.webpackJsonplogin=this.webpackJsonplogin||[]).push([[0],{13:function(e,t,a){e.exports={main:"ChangePassword_main__2WzyB"}},21:function(e,t,a){e.exports={main:"Input_main__r0bcX",input:"Input_input__SCFHN"}},22:function(e,t,a){e.exports={main:"Home_main__3zPLT",title:"Home_title__1sEKz"}},26:function(e,t,a){e.exports={main:"App_main__9tVZ8"}},27:function(e,t,a){e.exports={main:"Form_main__pDYwp"}},29:function(e,t,a){e.exports={main:"Button_main__3RPJ_"}},3:function(e,t,a){e.exports={main:"Header_main__1JOAU",inner:"Header_inner__33XPD",title:"Header_title__1F92a",nav:"Header_nav__1qWb_",link:"Header_link__3idJx",active:"Header_active__39ugI",logout:"Header_logout__2QUcr",email:"Header_email__1S9Ro"}},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),c=a.n(s),i=a(15),l=function(){return Object(i.b)()},o=i.c,u=a(26),d=a.n(u),j=a(9),b=a(2),m=a(13),p=a.n(m),x=a(11),O=a.n(x),h=a(18),f=a(10),g=Object(f.b)("auth/login",function(){var e=Object(h.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout((function(){return e(t)}),2e3)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=Object(f.b)("auth/changePassword",function(){var e=Object(h.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout((function(){return e(t)}),800)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=Object(f.b)("auth/logout",Object(h.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),_=Object(f.c)({name:"user",initialState:{loading:!1,email:null,password:null,loggedIn:!1},reducers:{},extraReducers:function(e){e.addCase(w.fulfilled,(function(e,t){e.password=t.payload})).addCase(g.fulfilled,(function(e,t){e.email=t.payload.email,e.password=t.payload.password,e.loggedIn=!0})).addCase(v.fulfilled,(function(e){e.email=null,e.password=null,e.loggedIn=!1})).addMatcher((function(e){return e.type.endsWith("/pending")}),(function(e){e.loading=!0})).addMatcher((function(e){return e.type.endsWith("/fulfilled")}),(function(e){e.loading=!1}))}}).reducer,N=a(27),P=a.n(N),y=a(28),T=a.n(y),k=a(1),C=function(e){var t=e.className,a=e.onSubmit,n=e.children;return Object(k.jsx)("form",{className:T()(P.a.main,t),onSubmit:a,children:n})},H=a(17),S=a(7),I=a(21),F=a.n(I),D=["label"],L=function(e){return Object(k.jsx)(R,Object(S.a)(Object(S.a)({required:!0},e),{},{type:"password",pattern:"^((?=.*[A-Z])(?=.*)).{4,8}$",placeholder:"Between 4 and 10 characters, at least one capital letter"}))},R=function(e){var t=e.label,a=Object(H.a)(e,D);return Object(k.jsxs)("label",{className:F.a.main,children:[Object(k.jsx)("span",{children:t}),Object(k.jsx)("input",Object(S.a)({className:F.a.input},a))]})},J=R,B=a(29),E=a.n(B),W=["children"],z=function(e){var t=e.children,a=Object(H.a)(e,W);return Object(k.jsx)("button",Object(S.a)(Object(S.a)({},a),{},{className:E.a.main,children:t}))},A=function(){var e=o((function(e){return e.user.password})),t=l();return Object(k.jsxs)(C,{onSubmit:function(a){a.preventDefault();var n=a.currentTarget.currentPassword.value,r=a.currentTarget.newPassword.value,s=a.currentTarget.repeatPassword.value;n===e&&r===s&&t(w(r))},className:p.a.main,children:[Object(k.jsx)(L,{label:"Current password",name:"currentPassword"}),Object(k.jsx)(L,{label:"New password",name:"newPassword"}),Object(k.jsx)(L,{label:"Repeat password",name:"repeatPassword"}),Object(k.jsx)(z,{type:"submit",children:"Submit"})]})},M=a(22),q=a.n(M),U=function(){var e=o((function(e){return e.user.email}));return Object(k.jsxs)("div",{className:q.a.main,children:[Object(k.jsxs)("p",{className:q.a.title,children:["Hello, ",null===e||void 0===e?void 0:e.split("@")[0]," \ud83d\udc4b\ud83c\udffb"]}),Object(k.jsx)(j.b,{exact:!0,to:"/change-password",children:"Change password"})]})},X=function(){var e=l();return Object(k.jsxs)(C,{onSubmit:function(t){t.preventDefault(),e(g({email:t.currentTarget.email.value,password:t.currentTarget.password.value}))},className:p.a.main,children:[Object(k.jsx)(J,{label:"Email",type:"email",name:"email",placeholder:"test@test.com"}),Object(k.jsx)(L,{label:"Password",name:"password"}),Object(k.jsx)(z,{type:"submit",children:"Submit"})]})},Z=function(){var e=l();return Object(k.jsxs)(C,{onSubmit:function(t){t.preventDefault(),t.currentTarget.password.value===t.currentTarget.repeatPassword.value&&e(g({email:t.currentTarget.email.value,password:t.currentTarget.password.value}))},className:p.a.main,children:[Object(k.jsx)(J,{label:"Email",type:"email",name:"email",placeholder:"test@test.com"}),Object(k.jsx)(L,{label:"Password",name:"password"}),Object(k.jsx)(L,{label:"Repeat password",name:"repeatPassword"}),Object(k.jsx)(z,{type:"submit",children:"Submit"})]})},K=a(3),Q=a.n(K),V=function(){var e=o((function(e){return e.user})),t=e.loggedIn,a=e.email,n=l();return Object(k.jsx)("div",{className:Q.a.main,children:Object(k.jsxs)("div",{className:Q.a.inner,children:[Object(k.jsx)("h1",{className:Q.a.title,children:"Login demo"}),Object(k.jsx)("nav",{className:Q.a.nav,children:t?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(j.b,{exact:!0,to:"/",className:Q.a.link,activeClassName:Q.a.active,children:" Home "}),Object(k.jsx)(j.b,{exact:!0,to:"/change-password",className:Q.a.link,activeClassName:Q.a.active,children:" Change password "})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(j.b,{exact:!0,to:"/login",className:Q.a.link,activeClassName:Q.a.active,children:" Login "}),Object(k.jsx)(j.b,{exact:!0,to:"/register",className:Q.a.link,activeClassName:Q.a.active,children:" Register "})]})}),t&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("p",{className:Q.a.email,children:["Logged in as ",a]}),Object(k.jsx)("button",{className:Q.a.link,onClick:function(e){e.preventDefault(),n(v())},children:"Logout"})]})]})})},Y=function(){var e=o((function(e){return e.user})),t=e.loggedIn,a=e.loading;return Object(k.jsx)("div",{className:d.a.main,children:Object(k.jsxs)(j.a,{basename:"/login-demo",children:[Object(k.jsx)(V,{})," ",a?Object(k.jsx)("p",{children:"Loading..."}):Object(k.jsx)(b.d,{children:t?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(b.b,{exact:!0,path:"/",children:Object(k.jsx)(U,{})}),Object(k.jsx)(b.b,{exact:!0,path:"/change-password",children:Object(k.jsx)(A,{})}),Object(k.jsx)(b.a,{to:"/"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(b.b,{exact:!0,path:"/login",children:[" ",Object(k.jsx)(X,{})," "]}),Object(k.jsx)(b.b,{exact:!0,path:"/register",children:Object(k.jsx)(Z,{})}),Object(k.jsx)(b.a,{to:"/login"})]})})]})})},$=Object(f.a)({reducer:{user:_},devTools:!1});a(46),a(47);c.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(i.a,{store:$,children:Object(k.jsx)(Y,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.0441e20b.chunk.js.map